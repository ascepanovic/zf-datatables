$.editable.addInputType("ajaxupload",{element:function(settings){settings.onblur="ignore";var input=$('<input type="file" id="upload" name="upload" />');$(this).append(input);return(input)},content:function(string,settings,original){},plugin:function(settings,original){var form=this;form.attr("enctype","multipart/form-data");$("button:submit",form).bind("click",function(){$.ajaxFileUpload({url:settings.target,secureuri:false,fileElementId:"upload",dataType:"html",success:function(data,status){$(original).html(data);original.editing=false},error:function(data,status,e){alert(e)}});return(false)})}});